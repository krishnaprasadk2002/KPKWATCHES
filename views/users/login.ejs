<%- include('../layouts/user/userHeader') %>
<%- include('../layouts/user/userNavBar') %>

    <main class="main">

        <div class="login-page bg-image pt-8 pb-8 pt-md-12 pb-md-12 pt-lg-17 pb-lg-17" style="background-image: url(../user/assets/images/banners/countdown-begins-antique-timer-sand-flowing-endlessly-generated-by-ai.jpg)">
            <div class="container">
                <div class="form-box">
                    <div class="form-tab">
                        <ul class="nav nav-pills nav-fill" role="tablist">
                            <li class="nav-item">
                                <a class="nav-link active" id="signin-tab-2" data-toggle="tab" href="#signin-2" role="tab" aria-controls="#signin-2" aria-selected="true">Log In</a>
                            </li>
                        </ul>
                        <div class="tab-content">


                            <div class="tab-pane fade show active" id="signin-2" role="tabpanel" aria-labelledby="signin-tab-2">
                                <form id="loginForm" action="/login" method="post" onsubmit="return validateForm()">
                                    <div class="form-group">
                                        <label for="singin-email-2">Email address *</label>
                                        <input type="text" class="form-control" id="singin-email-2" name="email" required>
                                    </div><!-- End .form-group -->
                            
                                    <div class="form-group">
                                        <label for="singin-password-2">Password *</label>
                                        <input type="password" class="form-control" id="singin-password-2" name="password" required>
                                    </div><!-- End .form-group -->
                            
                                    <div class="form-footer">
                                        <button type="submit" class="btn btn-outline-primary-2">
                                            <span>LOG IN</span>
                                            <i class="icon-long-arrow-right"></i>
                                        </button>
                            
                                        <div class="custom-control custom-checkbox">
                                            <input type="checkbox" class="custom-control-input" id="signin-remember-2">
                                            <label class="custom-control-label" for="signin-remember-2">Remember Me</label>
                                        </div><!-- End .custom-checkbox -->
                            
                                        <a href="/forgetpass" class="forgot-link">Forgot Your Password?</a>
                                    </div><!-- End .form-footer -->
                                </form>
                            </div>
                            
                            <script src="https://cdn.jsdelivr.net/npm/sweetalert2@10"></script>
                            
                            <script>
                                function validateForm() {
                                    var email = document.getElementById('singin-email-2').value.trim();
                                    var password = document.getElementById('singin-password-2').value;
                            
                                    if (email === '') {
                                        showError('Please enter your username or email address.');
                                        return false;
                                    }
                            
                                    if (password === '') {
                                        showError('Please enter your password.');
                                        return false;
                                    }
                            
                                    // Add additional validation logic if needed
                            
                                    return true;
                                }
                            
                                function showError(message) {
                                    Swal.fire({
                                        icon: 'error',
                                        title: 'Error',
                                        text: message,
                                    });
                                }
                            </script>
                            
    
                                </form>
                                <a href="/register">Don't have an account?</a>

                                <% if (locals.message) { %>
                                    <div class="success-message" style="color:red;">
                                      <%= locals.message %>
                                    </div>
                                  <% } %>
                                   
                                  
                            </div><!-- .End .tab-pane -->
                        </div><!-- End .tab-content -->
                    </div><!-- End .form-tab -->
                </div><!-- End .form-box -->
            </div><!-- End .container -->
        </div><!-- End .login-page section-bg -->
    </main><!-- End .main -->

    <%- include('../layouts/user/mobileview') %>
<%- include('../layouts/user/smallFooter') %>

<script src="https://cdn.jsdelivr.net/npm/sweetalert2@10"></script>

<script>
    document.addEventListener('DOMContentLoaded', function () {
        var loginForm = document.querySelector('form');

        loginForm.addEventListener('submit', function (event) {
            var emailInput = document.getElementById('singin-email');
            var passwordInput = document.getElementById('singin-password');

            // Trim only the email value
            var email = emailInput.value.trim();

            // Update the email input value with the trimmed value
            emailInput.value = email;

            // Basic validation - you can add more complex validation as needed
            if (email === '' || passwordInput.value === '') {
                showError('Please enter both email and password.');
                event.preventDefault(); // Prevent form submission
            }

            // You can add more validation rules if needed

            // For now, let's just display a success message
            showSuccess('Login successful!');
        });

        function showError(message) {
            Swal.fire({
                icon: 'error',
                title: 'Error',
                text: message,
            });
        }

        function showSuccess(message) {
            Swal.fire({
                icon: 'success',
                title: 'Success',
                text: message,
            });
        }
    });
</script>




